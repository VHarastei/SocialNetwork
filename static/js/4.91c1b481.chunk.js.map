{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","utils/validators/validators.js","assets/images/person.png","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"names":["module","exports","Post","props","className","s","item","icon","src","alt","message","likesCount","AddNewPostForm","onSubmit","obj","addPost","newPostText","handleSubmit","name","validate","maxLength","input","meta","fieldControl","error","type","placeholder","touched","MyPosts","postElements","profilePage","posts","map","p","id","postsBlock","MyPostsContainer","connect","state","dispatch","NewPostText","addPostActionCreator","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","target","value","autoFocus","onBlur","updateStatus","onDoubleClick","ProfileInfo","profile","Preloader","descriptionBlock","photos","large","userPhoto","isOwner","files","length","savePhoto","Profile","compose","authorizedUserId","auth","userId","isAuth","getUserProfile","getStatus","withRouter","match","params","history","push","required","undefined","max","composeValidators","validators","reduce","validator","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","_s","_i","next","done","err","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/4.91c1b481.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2Nc1u\",\"postsBlock\":\"MyPosts_postsBlock__3dQYh\",\"fieldControl\":\"MyPosts_fieldControl__1xh7g\",\"error\":\"MyPosts_error__Hzje4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2S8TC\",\"icon\":\"Post_icon__WGWMq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3oFI0\"};","import React from \"react\";\r\nimport s from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img className={s.icon}\r\n        src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzdCnMXv32Be239UIoWX0J4CZZIdZkfDljCw&usqp=CAU\"\r\n        alt=\"img\"\r\n      />\r\n      {props.message}\r\n      <button>like</button>{props.likesCount}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { maxLength } from '../../../utils/validators/validators';\r\n\r\nconst MyPosts = (props) => {\r\n  let state = props.profilePage;\r\n  let postElements = state.posts.map((p) => (\r\n    <Post id={p.id} message={p.message} likesCount={p.likesCount} />\r\n  ));\r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h2>my posts</h2>\r\n      <div>\r\n        <AddNewPostForm addPost={props.addPost} />\r\n      </div>\r\n      <div className={s.posts}>{postElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nlet AddNewPostForm = (props) => {\r\n  return (\r\n    <Form\r\n      onSubmit={(obj) => {\r\n        props.addPost(obj.newPostText);\r\n        obj.newPostText = '';\r\n      }}\r\n    >\r\n      {({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <Field name=\"newPostText\" validate={maxLength(300)}>\r\n            {({ input, meta }) => (\r\n              <div className={s.fieldControl + ' ' + s.error}>\r\n                <textarea type=\"text\" placeholder=\"Write new post\" {...input} />\r\n                {meta.error && meta.touched && <span>{meta.error}</span>}\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <div>\r\n            <button type=\"submit\">Post</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default MyPosts;\r\n","import { connect } from 'react-redux';\r\nimport {\r\n  addPostActionCreator,\r\n} from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profilePage: state.profilePage\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (NewPostText) => {\r\n      dispatch(addPostActionCreator(NewPostText));\r\n    },\r\n  }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  },[props.status])\r\n\r\n  return (\r\n    <div>\r\n      {editMode ? (\r\n        <input\r\n          onChange={onStatusChange}\r\n          autoFocus={true}\r\n          onBlur={deactivateEditMode}\r\n          value={status}\r\n        ></input>\r\n      ) : (\r\n        <span onDoubleClick={activateEditMode}>{props.status || 'No status'}</span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusHooks;\r\n","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\nimport userPhoto from '../../../assets/images/person.png';\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  const onSavePhoto = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0]);\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <div className={s.descriptionBlock}>\r\n        <img\r\n          className={s.icon}\r\n          src={props.profile.photos.large || userPhoto}\r\n          alt=\"icon\"\r\n        />\r\n        {props.isOwner && <input type={'file'} onChange={onSavePhoto} />}\r\n        <ProfileStatusHooks\r\n          updateStatus={props.updateStatus}\r\n          status={props.status}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n// import s from \"./Profile.module.css\";\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo {...props}/>\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  getUserProfile,\r\n  getStatus,\r\n  updateStatus,\r\n  savePhoto\r\n} from '../../redux/profileReducer';\r\nimport Profile from './Profile';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\n// class ProfileContainer extends React.Component {\r\n//   componentDidMount() {\r\n//     let userId = this.props.match.params.userId;\r\n//     if (!userId) {\r\n//       userId = this.props.authorizedUserId;\r\n//       if (!userId) {\r\n//         this.props.history.push('/login');\r\n//       }\r\n//     }\r\n//     this.props.getStatus(userId);\r\n//     this.props.getUserProfile(userId);\r\n//   }\r\n\r\n//   render() {\r\n//     return <Profile {...this.props} />;\r\n//   }\r\n// }\r\n\r\nconst ProfileContainerH = (props) => {\r\n  useEffect(() => {\r\n    let userId = props.match.params.userId;\r\n    if (!userId) {\r\n      userId = props.authorizedUserId;\r\n      if (!userId) props.history.push('/login');\r\n    }\r\n    if (userId) {\r\n      props.getStatus(userId);\r\n      props.getUserProfile(userId);\r\n    }\r\n  }, [props.match.params.userId]);\r\n  return <Profile {...props} isOwner={!props.match.params.userId} />;\r\n};\r\n//TODO \r\n//FIX STATUS\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto\r\n  }),\r\n  withRouter\r\n)(ProfileContainerH);\r\n","export const required = (value) => (value ? undefined : 'Required');\r\nexport const maxLength = (max) => (value) => \r\nvalue && value.length >= max ? `Maximum length is ${max} symbols` : undefined;\r\nexport const composeValidators = (...validators) => (value) =>\r\n  validators.reduce((error, validator) => error || validator(value), undefined);\r\n","export default __webpack_public_path__ + \"static/media/person.8b9cd9e1.png\";","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}