{"version":3,"sources":["components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileDataForm.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","utils/validators/validators.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/images/person.png","components/Profile/ProfileInfo/ProfileInfo.module.css"],"names":["module","exports","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Post","props","className","s","item","icon","src","alt","message","likesCount","AddNewPostForm","onSubmit","obj","addPost","newPostText","handleSubmit","name","validate","maxLength","input","meta","fieldControl","error","type","placeholder","touched","MyPosts","postElements","profilePage","posts","map","p","id","postsBlock","MyPostsContainer","connect","state","dispatch","NewPostText","addPostActionCreator","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","value","autoFocus","onBlur","updateStatus","onDoubleClick","ProfileDataForm","profile","initialValues","render","submitError","contacts","contactItem","ProfileData","isOwner","toggleEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactTitle","contactValue","Contact","ProfileInfo","savePhoto","saveProfile","Preloader","formData","a","result","resultCode","FORM_ERROR","messages","descriptionBlock","photos","large","userPhoto","files","Profile","compose","authorizedUserId","auth","userId","isAuth","getUserProfile","getStatus","withRouter","match","history","params","push","required","undefined","max","composeValidators","validators","reduce","validator","_slicedToArray","arr","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","err","unsupportedIterableToArray","TypeError"],"mappings":"mGACAA,EAAOC,QAAU,CAAC,MAAQ,uBAAuB,WAAa,4BAA4B,aAAe,8BAA8B,MAAQ,yB,oBCA/ID,EAAOC,QAAU,CAAC,KAAO,mBAAmB,KAAO,qB,0DCApC,SAASC,EAAyBC,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKC,EADLC,ECHS,SAAuCJ,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKC,EAFLC,EAAS,GACTC,EAAaC,OAAOC,KAAKP,GAG7B,IAAKG,EAAI,EAAGA,EAAIE,EAAWG,OAAQL,IACjCD,EAAMG,EAAWF,GACbF,EAASQ,QAAQP,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAGvB,OAAOE,EDTM,CAA6BJ,EAAQC,GAGlD,GAAIK,OAAOI,sBAAuB,CAChC,IAAIC,EAAmBL,OAAOI,sBAAsBV,GAEpD,IAAKG,EAAI,EAAGA,EAAIQ,EAAiBH,OAAQL,IACvCD,EAAMS,EAAiBR,GACnBF,EAASQ,QAAQP,IAAQ,GACxBI,OAAOM,UAAUC,qBAAqBC,KAAKd,EAAQE,KACxDE,EAAOF,GAAOF,EAAOE,IAIzB,OAAOE,E,+DEDMW,EAbF,SAACC,GACZ,OACE,sBAAKC,UAAWC,IAAEC,KAAlB,UACE,qBAAKF,UAAWC,IAAEE,KAChBC,IAAI,sGACJC,IAAI,QAELN,EAAMO,QACP,0CAAsBP,EAAMQ,e,gBCW9BC,EAAiB,SAACT,GACpB,OACE,cAAC,IAAD,CACEU,SAAU,SAACC,GACTX,EAAMY,QAAQD,EAAIE,aAClBF,EAAIE,YAAc,IAHtB,SAMG,gBAAGC,EAAH,EAAGA,aAAH,OACC,uBAAMJ,SAAUI,EAAhB,UACE,cAAC,IAAD,CAAOC,KAAK,cAAcC,SAAUC,YAAU,KAA9C,SACG,gBAAGC,EAAH,EAAGA,MAAOC,EAAV,EAAUA,KAAV,OACC,sBAAKlB,UAAWC,IAAEkB,aAAe,IAAMlB,IAAEmB,MAAzC,UACE,sCAAUC,KAAK,OAAOC,YAAY,kBAAqBL,IACtDC,EAAKE,OAASF,EAAKK,SAAW,+BAAOL,EAAKE,cAIjD,8BACE,wBAAQC,KAAK,SAAb,2BAQGG,EA3CC,SAACzB,GACf,IACI0B,EADQ1B,EAAM2B,YACOC,MAAMC,KAAI,SAACC,GAAD,OACjC,cAAC,EAAD,CAAiBC,GAAID,EAAEC,GAAIxB,QAASuB,EAAEvB,QAASC,WAAYsB,EAAEtB,YAAlDsB,EAAEC,OAEf,OACE,sBAAK9B,UAAWC,IAAE8B,WAAlB,UACE,0CACA,8BACE,cAAC,EAAD,CAAgBpB,QAASZ,EAAMY,YAEjC,qBAAKX,UAAWC,IAAE0B,MAAlB,SAA0BF,QCIjBO,EAFUC,aAZH,SAACC,GACrB,MAAO,CACLR,YAAaQ,EAAMR,gBAGE,SAACS,GACxB,MAAO,CACLxB,QAAS,SAACyB,GACRD,EAASE,YAAqBD,QAIXH,CAA6CT,G,gECoBvDc,EArCY,SAACvC,GAAW,IAAD,EACNwC,oBAAS,GADH,mBAC/BC,EAD+B,KACrBC,EADqB,OAEVF,mBAASxC,EAAM2C,QAFL,mBAE/BA,EAF+B,KAEvBC,EAFuB,KAqBpC,OAJAC,qBAAU,WACRD,EAAU5C,EAAM2C,UAChB,CAAC3C,EAAM2C,SAGP,8BACGF,EACC,uBACEK,SAZe,SAACC,GACtBH,EAAUG,EAAE3D,OAAO4D,QAYbC,WAAW,EACXC,OAnBmB,WACzBR,GAAY,GACZ1C,EAAMmD,aAAaR,IAkBbK,MAAOL,IAGT,uBAAMS,cA3Ba,WACvBV,GAAY,IA0BR,qBAAgD1C,EAAM2C,QAAU,kB,QCqCzDU,EAlES,SAAC,GAA2B,IAAzBC,EAAwB,EAAxBA,QAAS5C,EAAe,EAAfA,SAClC,OACE,cAAC,IAAD,CACE6C,cAAeD,EACf5C,SAAUA,EACV8C,OAAQ,gBAAGC,EAAH,EAAGA,YAAa3C,EAAhB,EAAgBA,aAAhB,OACN,uBAAMJ,SAAUI,EAAhB,UACE,8BACE,wBAAQQ,KAAK,SAAb,oBAEDmC,GAAe,qBAAKxD,UAAWC,IAAEmB,MAAlB,SAA0BoC,IAC1C,cAAC,IAAD,CAAO1C,KAAK,WAAZ,SACG,gBAAGG,EAAH,EAAGA,MAAH,OACC,gCACE,8CACA,mCAAOI,KAAK,OAAOC,YAAY,aAAgBL,UAIrD,cAAC,IAAD,CAAOH,KAAK,iBAAiBO,KAAK,WAAlC,SACG,gBAAGJ,EAAH,EAAGA,MAAH,OACC,gCACE,sDACA,mCAAOI,KAAK,YAAeJ,UAIjC,cAAC,IAAD,CAAOH,KAAK,4BAAZ,SACG,gBAAGG,EAAH,EAAGA,MAAH,OACC,gCACE,2DACA,sCAAUK,YAAY,0BAA6BL,UAIzD,cAAC,IAAD,CAAOH,KAAK,UAAZ,SACG,gBAAGG,EAAH,EAAGA,MAAH,OACC,gCACE,6CACA,sCAAUK,YAAY,YAAeL,UAI3C,4CAEG5B,OAAOC,KAAK+D,EAAQI,UAAU7B,KAAI,SAAC3C,GAClC,OACE,sBAAee,UAAWC,IAAEyD,YAA5B,UACGzE,EADH,IAEE,cAAC,IAAD,CAAO6B,KAAM,YAAc7B,EAA3B,SACG,gBAAGgC,EAAH,EAAGA,MAAH,OACC,8BACE,mCAAOK,YAAarC,EAAKoC,KAAK,QAAWJ,WALvChC,gB,QCQpB0E,EAAc,SAAC,GAA0C,IAAxCN,EAAuC,EAAvCA,QAASO,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,eACvC,OACE,gCACGD,GAAW,wBAAQE,QAASD,EAAjB,kBACZ,6CAAgBR,EAAQU,YACxB,sDAAyBV,EAAQW,eAAiB,MAAQ,QACzDX,EAAQW,gBACP,2DAA8BX,EAAQY,6BAExC,6CAAgBZ,EAAQa,WACxB,4CAEG7E,OAAOC,KAAK+D,EAAQI,UAAU7B,KAAI,SAAC3C,GAClC,OACE,cAAC,EAAD,CAEEkF,aAAclF,EACdmF,aAAcf,EAAQI,SAASxE,IAF1BA,aAWboF,EAAU,SAAC,GAAoC,IAAlCF,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,aAC/B,OACE,sBAAKpE,UAAWC,IAAEyD,YAAlB,UACGS,EADH,MACoBC,MAKTE,EArFK,SAAC,GAOd,IANLjB,EAMI,EANJA,QACAO,EAKI,EALJA,QACAW,EAII,EAJJA,UACArB,EAGI,EAHJA,aACAR,EAEI,EAFJA,OACA8B,EACI,EADJA,YACI,EAC4BjC,oBAAS,GADrC,mBACGC,EADH,KACaC,EADb,KAEJ,IAAKY,EACH,OAAO,cAACoB,EAAA,EAAD,IAGT,IAMMhE,EAAQ,uCAAG,WAAOiE,GAAP,eAAAC,EAAA,sEACIH,EAAYE,GADhB,cAEU,KADrBE,EADW,QAELC,YAAkBpC,GAAY,GAFzB,iCAGLqC,IAAaF,EAAOG,SAAS,KAHxB,2CAAH,sDAKd,OACE,8BACE,sBAAK/E,UAAWC,IAAE+E,iBAAlB,UACE,qBACEhF,UAAWC,IAAEE,KACbC,IAAKiD,EAAQ4B,OAAOC,OAASC,IAC7B9E,IAAI,SAELuD,GAAW,uBAAOvC,KAAM,OAAQwB,SAnBnB,SAACC,GACfA,EAAE3D,OAAOiG,MAAM7F,QACjBgF,EAAUzB,EAAE3D,OAAOiG,MAAM,OAkBtB5C,EACC,cAAC,EAAD,CAAiBa,QAASA,EAAS5C,SAAUA,IAE7C,cAAC,EAAD,CACE4C,QAASA,EACTO,QAASA,EACTC,eAAgB,WACdpB,GAAY,MAKlB,cAAC,EAAD,CAAoBS,aAAcA,EAAcR,OAAQA,UCvCjD2C,EATC,SAACtF,GACf,OACE,gCACE,cAAC,EAAD,eAAiBA,IACjB,cAAC,EAAD,Q,eCoDSuF,sBACbrD,aAVoB,SAACC,GACrB,MAAO,CACLmB,QAASnB,EAAMR,YAAY2B,QAC3BX,OAAQR,EAAMR,YAAYgB,OAC1B6C,iBAAkBrD,EAAMsD,KAAKC,OAC7BC,OAAQxD,EAAMsD,KAAKE,UAKI,CACvBC,mBACAC,cACA1C,iBACAqB,cACAC,kBAEFqB,IARaP,EA/BW,SAAC,GAOpB,IANLQ,EAMI,EANJA,MACAP,EAKI,EALJA,iBACAQ,EAII,EAJJA,QACAH,EAGI,EAHJA,UACAD,EAEI,EAFJA,eACG5F,EACC,yEAYJ,OAXA6C,qBAAU,WACR,IAAI6C,EAASK,EAAME,OAAOP,OACrBA,IACHA,EAASF,IACIQ,EAAQE,KAAK,UAExBR,IACFG,EAAUH,GACVE,EAAeF,MAEhB,CAACK,EAAOP,EAAkBK,EAAWD,EAAgBI,IACjD,cAAC,EAAD,2BAAahG,GAAb,IAAoB6D,SAAUkC,EAAME,OAAOP,c,gCCjDpD,sGAAO,IAAMS,EAAW,SAACnD,GAAD,OAAYA,OAAQoD,EAAY,YAC3CnF,EAAY,SAACoF,GAAD,OAAS,SAACrD,GAAD,OAClCA,GAASA,EAAMxD,QAAU6G,EAAzB,4BAAoDA,EAApD,iBAAoED,IACvDE,EAAoB,sCAAIC,EAAJ,yBAAIA,EAAJ,uBAAmB,SAACvD,GAAD,OAClDuD,EAAWC,QAAO,SAACnF,EAAOoF,GAAR,OAAsBpF,GAASoF,EAAUzD,UAAQoD,M,8ECAtD,SAASM,EAAeC,EAAKxH,GAC1C,OCLa,SAAyBwH,GACtC,GAAIC,MAAMC,QAAQF,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAKxH,GACjD,GAAsB,qBAAX2H,QAA4BA,OAAOC,YAAYzH,OAAOqH,GAAjE,CACA,IAAIK,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKf,EAET,IACE,IAAK,IAAiCgB,EAA7BC,EAAKV,EAAIG,OAAOC,cAAmBE,GAAMG,EAAKC,EAAGC,QAAQC,QAChEP,EAAKd,KAAKkB,EAAGpE,QAET7D,GAAK6H,EAAKxH,SAAWL,GAH8C8H,GAAK,IAK9E,MAAOO,GACPN,GAAK,EACLC,EAAKK,EACL,QACA,IACOP,GAAsB,MAAhBI,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIH,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBL,EAAKxH,IAAM,OAAAsI,EAAA,GAA2Bd,EAAKxH,IGLjF,WACb,MAAM,IAAIuI,UAAU,6IHIgF,K,gCILvF,QAA0B,oC,mBCCzC7I,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,YAAc,iCAAiC,MAAQ","file":"static/js/4.759e84a9.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2Nc1u\",\"postsBlock\":\"MyPosts_postsBlock__3dQYh\",\"fieldControl\":\"MyPosts_fieldControl__1xh7g\",\"error\":\"MyPosts_error__Hzje4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2S8TC\",\"icon\":\"Post_icon__WGWMq\"};","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\r\nimport s from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img className={s.icon}\r\n        src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzdCnMXv32Be239UIoWX0J4CZZIdZkfDljCw&usqp=CAU\"\r\n        alt=\"img\"\r\n      />\r\n      {props.message}\r\n      <button>like</button>{props.likesCount}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { maxLength } from '../../../utils/validators/validators';\r\n\r\nconst MyPosts = (props) => {\r\n  let state = props.profilePage;\r\n  let postElements = state.posts.map((p) => (\r\n    <Post key={p.id} id={p.id} message={p.message} likesCount={p.likesCount} />\r\n  ));\r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h2>my posts</h2>\r\n      <div>\r\n        <AddNewPostForm addPost={props.addPost} />\r\n      </div>\r\n      <div className={s.posts}>{postElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nlet AddNewPostForm = (props) => {\r\n  return (\r\n    <Form\r\n      onSubmit={(obj) => {\r\n        props.addPost(obj.newPostText);\r\n        obj.newPostText = '';\r\n      }}\r\n    >\r\n      {({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <Field name=\"newPostText\" validate={maxLength(300)}>\r\n            {({ input, meta }) => (\r\n              <div className={s.fieldControl + ' ' + s.error}>\r\n                <textarea type=\"text\" placeholder=\"Write new post\" {...input} />\r\n                {meta.error && meta.touched && <span>{meta.error}</span>}\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <div>\r\n            <button type=\"submit\">Post</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default MyPosts;\r\n","import { connect } from 'react-redux';\r\nimport {\r\n  addPostActionCreator,\r\n} from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profilePage: state.profilePage\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (NewPostText) => {\r\n      dispatch(addPostActionCreator(NewPostText));\r\n    },\r\n  }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  },[props.status])\r\n\r\n  return (\r\n    <div>\r\n      {editMode ? (\r\n        <input\r\n          onChange={onStatusChange}\r\n          autoFocus={true}\r\n          onBlur={deactivateEditMode}\r\n          value={status}\r\n        ></input>\r\n      ) : (\r\n        <span onDoubleClick={activateEditMode}>Status: {props.status || 'No status'}</span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusHooks;\r\n","import React from 'react';\r\nimport { Field, Form } from 'react-final-form';\r\nimport s from './ProfileInfo.module.css';\r\n\r\nconst ProfileDataForm = ({ profile, onSubmit }) => {\r\n  return (\r\n    <Form\r\n      initialValues={profile}\r\n      onSubmit={onSubmit}\r\n      render={({ submitError, handleSubmit }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <div>\r\n            <button type=\"submit\">Save</button>\r\n          </div>\r\n          {submitError && <div className={s.error}>{submitError}</div>}\r\n          <Field name=\"fullName\">\r\n            {({ input }) => (\r\n              <div>\r\n                <div>Full name: </div>\r\n                <input type=\"text\" placeholder=\"Full name\" {...input} />\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <Field name=\"lookingForAJob\" type=\"checkbox\">\r\n            {({ input }) => (\r\n              <div>\r\n                <div>Looking for a job: </div>\r\n                <input type=\"checkbox\" {...input} />\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <Field name=\"lookingForAJobDescription\">\r\n            {({ input }) => (\r\n              <div>\r\n                <div>My professional skills: </div>\r\n                <textarea placeholder=\"My professional skills\" {...input} />\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <Field name=\"aboutMe\">\r\n            {({ input }) => (\r\n              <div>\r\n                <div>About me: </div>\r\n                <textarea placeholder=\"About me\" {...input} />\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <div>\r\n            Contacts:\r\n            {Object.keys(profile.contacts).map((key) => {\r\n              return (\r\n                <div key={key} className={s.contactItem}>\r\n                  {key}:\r\n                  <Field name={'contacts.' + key}>\r\n                    {({ input }) => (\r\n                      <div>\r\n                        <input placeholder={key} type=\"text\" {...input} />\r\n                      </div>\r\n                    )}\r\n                  </Field>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </form>\r\n      )}\r\n    ></Form>\r\n  );\r\n};\r\n\r\nexport default ProfileDataForm;\r\n","import React, { useState } from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\nimport userPhoto from '../../../assets/images/person.png';\r\nimport ProfileDataForm from './ProfileDataForm';\r\nimport { FORM_ERROR } from 'final-form';\r\n\r\nconst ProfileInfo = ({\r\n  profile,\r\n  isOwner,\r\n  savePhoto,\r\n  updateStatus,\r\n  status,\r\n  saveProfile,\r\n}) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  if (!profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  const onSavePhoto = (e) => {\r\n    if (e.target.files.length) {\r\n      savePhoto(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  const onSubmit = async (formData) => {\r\n    let result = await saveProfile(formData);\r\n    if(result.resultCode === 0) setEditMode(false);\r\n    return { [FORM_ERROR]: result.messages[0] };\r\n  };\r\n  return (\r\n    <div>\r\n      <div className={s.descriptionBlock}>\r\n        <img\r\n          className={s.icon}\r\n          src={profile.photos.large || userPhoto}\r\n          alt=\"icon\"\r\n        />\r\n        {isOwner && <input type={'file'} onChange={onSavePhoto} />}\r\n        {editMode ? (\r\n          <ProfileDataForm profile={profile} onSubmit={onSubmit} />\r\n        ) : (\r\n          <ProfileData\r\n            profile={profile}\r\n            isOwner={isOwner}\r\n            toggleEditMode={() => {\r\n              setEditMode(true);\r\n            }}\r\n          />\r\n        )}\r\n\r\n        <ProfileStatusHooks updateStatus={updateStatus} status={status} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ProfileData = ({ profile, isOwner, toggleEditMode }) => {\r\n  return (\r\n    <div>\r\n      {isOwner && <button onClick={toggleEditMode}>edit</button>}\r\n      <div>Fullname: {profile.fullName}</div>\r\n      <div>Looking for a job: {profile.lookingForAJob ? 'yes' : 'no'}</div>\r\n      {profile.lookingForAJob && (\r\n        <div>My professional skills: {profile.lookingForAJobDescription}</div>\r\n      )}\r\n      <div>About me: {profile.aboutMe}</div>\r\n      <div>\r\n        Contacts:\r\n        {Object.keys(profile.contacts).map((key) => {\r\n          return (\r\n            <Contact\r\n              key={key}\r\n              contactTitle={key}\r\n              contactValue={profile.contacts[key]}\r\n            />\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Contact = ({ contactTitle, contactValue }) => {\r\n  return (\r\n    <div className={s.contactItem}>\r\n      {contactTitle} : {contactValue}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n// import s from \"./Profile.module.css\";\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo {...props}/>\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  getUserProfile,\r\n  getStatus,\r\n  updateStatus,\r\n  savePhoto,\r\n  saveProfile,\r\n} from '../../redux/profileReducer';\r\nimport Profile from './Profile';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\n// class ProfileContainer extends React.Component {\r\n//   componentDidMount() {\r\n//     let userId = this.props.match.params.userId;\r\n//     if (!userId) {\r\n//       userId = this.props.authorizedUserId;\r\n//       if (!userId) {\r\n//         this.props.history.push('/login');\r\n//       }\r\n//     }\r\n//     this.props.getStatus(userId);\r\n//     this.props.getUserProfile(userId);\r\n//   }\r\n//   render() {\r\n//     return <Profile {...this.props} />;\r\n//   }\r\n// }\r\n\r\nconst ProfileContainerH = ({\r\n  match,\r\n  authorizedUserId,\r\n  history,\r\n  getStatus,\r\n  getUserProfile,\r\n  ...props\r\n}) => {\r\n  useEffect(() => {\r\n    let userId = match.params.userId;\r\n    if (!userId) {\r\n      userId = authorizedUserId;\r\n      if (!userId) history.push('/login');\r\n    }\r\n    if (userId) {\r\n      getStatus(userId);\r\n      getUserProfile(userId);\r\n    }\r\n  }, [match, authorizedUserId, getStatus, getUserProfile, history]);\r\n  return <Profile {...props} isOwner={!match.params.userId} />;\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n    saveProfile,\r\n  }),\r\n  withRouter\r\n)(ProfileContainerH);\r\n","export const required = (value) => (value ? undefined : 'Required');\r\nexport const maxLength = (max) => (value) => \r\nvalue && value.length >= max ? `Maximum length is ${max} symbols` : undefined;\r\nexport const composeValidators = (...validators) => (value) =>\r\n  validators.reduce((error, validator) => error || validator(value), undefined);\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default __webpack_public_path__ + \"static/media/person.8b9cd9e1.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3oFI0\",\"contactItem\":\"ProfileInfo_contactItem__tZB5x\",\"error\":\"ProfileInfo_error__3Vssu\"};"],"sourceRoot":""}