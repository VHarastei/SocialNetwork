{"version":3,"sources":["components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","utils/validators/validators.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/MyPosts/MyPosts.module.css"],"names":["module","exports","Post","props","className","s","item","icon","src","alt","message","likesCount","AddNewPostForm","onSubmit","obj","addPost","newPostText","handleSubmit","name","validate","maxLength","input","meta","fieldControl","error","type","placeholder","touched","MyPosts","postElements","profilePage","posts","map","p","id","postsBlock","MyPostsContainer","connect","state","dispatch","NewPostText","addPostActionCreator","React","Component","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onChange","e","target","value","autoFocus","onBlur","updateStatus","onDoubleClick","ProfileInfo","profile","descriptionBlock","Preloader","Profile","compose","authorizedUserId","auth","userId","isAuth","getUserProfile","getStatus","withRouter","useRef","match","params","current","history","push","required","undefined","max","length","composeValidators","validators","reduce","validator","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","_s","_i","next","done","err","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/4.12ed22e3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__2S8TC\",\"icon\":\"Post_icon__WGWMq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3oFI0\"};","import React from \"react\";\r\nimport s from \"./Post.module.css\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={s.item}>\r\n      <img className={s.icon}\r\n        src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTzdCnMXv32Be239UIoWX0J4CZZIdZkfDljCw&usqp=CAU\"\r\n        alt=\"img\"\r\n      />\r\n      {props.message}\r\n      <button>like</button>{props.likesCount}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport { Form, Field } from 'react-final-form';\r\nimport { maxLength } from '../../../utils/validators/validators';\r\n\r\nconst MyPosts = (props) => {\r\n  let state = props.profilePage;\r\n  let postElements = state.posts.map((p) => (\r\n    <Post id={p.id} message={p.message} likesCount={p.likesCount} />\r\n  ));\r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h2>my posts</h2>\r\n      <div>\r\n        <AddNewPostForm addPost={props.addPost} />\r\n      </div>\r\n      <div className={s.posts}>{postElements}</div>\r\n    </div>\r\n  );\r\n};\r\n\r\nlet AddNewPostForm = (props) => {\r\n  return (\r\n    <Form\r\n      onSubmit={(obj) => {\r\n        props.addPost(obj.newPostText);\r\n        obj.newPostText = '';\r\n      }}\r\n    >\r\n      {({ handleSubmit }) => (\r\n        <form onSubmit={handleSubmit}>\r\n          <Field name=\"newPostText\" validate={maxLength(300)}>\r\n            {({ input, meta }) => (\r\n              <div className={s.fieldControl + ' ' + s.error}>\r\n                <textarea type=\"text\" placeholder=\"Write new post\" {...input} />\r\n                {meta.error && meta.touched && <span>{meta.error}</span>}\r\n              </div>\r\n            )}\r\n          </Field>\r\n          <div>\r\n            <button type=\"submit\">Post</button>\r\n          </div>\r\n        </form>\r\n      )}\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default MyPosts;\r\n","import { connect } from 'react-redux';\r\nimport {\r\n  addPostActionCreator,\r\n} from '../../../redux/profileReducer';\r\nimport MyPosts from './MyPosts';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profilePage: state.profilePage\r\n  }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (NewPostText) => {\r\n      dispatch(addPostActionCreator(NewPostText));\r\n    },\r\n  }\r\n}\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\n\r\nclass profileStatus extends React.Component {\r\n  state = {\r\n    editMode: false,\r\n    status: this.props.status,\r\n  };\r\n  toggleEditMode = () => {\r\n    debugger;\r\n    if (this.state.editMode) this.props.updateStatus(this.state.status);\r\n    this.setState({\r\n      editMode: !this.state.editMode,\r\n    });\r\n  };\r\n  activateEditMode = () => {\r\n    this.setState({\r\n      editMode: true,\r\n    });\r\n  };\r\n  deactivateEditMode = () => {\r\n    this.setState({\r\n      editMode: false,\r\n    });\r\n    this.props.updateStatus(this.state.status);\r\n  };\r\n\r\n  onStatusChange = (e) => {\r\n    this.setState({\r\n      status: e.target.value,\r\n    });\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.status !== this.props.status) {\r\n      this.setState({\r\n        status: this.props.status,\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        {this.state.editMode ? (\r\n          <input\r\n            onChange={this.onStatusChange}\r\n            autoFocus={true}\r\n            onBlur={this.deactivateEditMode}\r\n            value={this.state.status}\r\n          ></input>\r\n        ) : (\r\n          <span onDoubleClick={this.activateEditMode}>\r\n            {this.props.status || 'No status'}\r\n          </span>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default profileStatus;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n  let [editMode, setEditMode] = useState(false);\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  },[props.status])\r\n\r\n  return (\r\n    <div>\r\n      {editMode ? (\r\n        <input\r\n          onChange={onStatusChange}\r\n          autoFocus={true}\r\n          onBlur={deactivateEditMode}\r\n          value={status}\r\n        ></input>\r\n      ) : (\r\n        <span onDoubleClick={activateEditMode}>{props.status || 'No status'}</span>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusHooks;\r\n","import React from 'react';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport s from './ProfileInfo.module.css';\r\nimport ProfileStatus from './ProfileStatus';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        <img\r\n          className={s.icon}\r\n          src=\"https://www.klaviyo.com/wp-content/uploads/2016/09/abstract-background-1024x273.jpg\"\r\n          alt=\"icon\"\r\n        />\r\n      </div>\r\n      <div className={s.descriptionBlock}>\r\n        <ProfileStatusHooks\r\n          updateStatus={props.updateStatus}\r\n          status={props.status}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\n// import s from \"./Profile.module.css\";\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst Profile = (props) => {\r\n  return (\r\n    <div>\r\n      <ProfileInfo {...props}/>\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  getUserProfile,\r\n  getStatus,\r\n  updateStatus,\r\n} from '../../redux/profileReducer';\r\nimport Profile from './Profile';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = this.props.authorizedUserId;\r\n      if (!userId) {\r\n        this.props.history.push('/login');\r\n      }\r\n    }\r\n    this.props.getStatus(userId);\r\n    this.props.getUserProfile(userId);\r\n  }\r\n\r\n  render() {\r\n    return <Profile {...this.props} />;\r\n  }\r\n}\r\n\r\nconst ProfileContainerH = (props) => {\r\n  let userId = useRef(props.match.params.userId);\r\n  useEffect(() => {\r\n    if (!userId.current) {\r\n      userId.current = props.authorizedUserId;\r\n      if (!userId.current) props.history.push('/login');\r\n    }\r\n    if (userId.current) {\r\n      props.getStatus(userId.current);\r\n      props.getUserProfile(userId.current);\r\n    }\r\n  }, [userId]);\r\n  return <Profile {...props} />;\r\n};\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfile,\r\n    getStatus,\r\n    updateStatus,\r\n  }),\r\n  withRouter\r\n)(ProfileContainerH);\r\n","export const required = (value) => (value ? undefined : 'Required');\r\nexport const maxLength = (max) => (value) => \r\nvalue && value.length >= max ? `Maximum length is ${max} symbols` : undefined;\r\nexport const composeValidators = (...validators) => (value) =>\r\n  validators.reduce((error, validator) => error || validator(value), undefined);\r\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__2Nc1u\",\"postsBlock\":\"MyPosts_postsBlock__3dQYh\",\"fieldControl\":\"MyPosts_fieldControl__1xh7g\",\"error\":\"MyPosts_error__Hzje4\"};"],"sourceRoot":""}